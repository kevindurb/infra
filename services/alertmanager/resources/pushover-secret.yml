---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: pushover-credentials
spec:
  target:
    name: alertmanager-pushover-credentials
    deletionPolicy: Delete
    template:
      type: Opaque
      data:
        user_key: '{{ .userKey }}'
        application_key: '{{ .applicationToken }}'
  data:
    - secretKey: userKey
      sourceRef:
        storeRef:
          name: bitwarden-login
          kind: ClusterSecretStore
      remoteRef:
        key: 029f4953-32a6-4ff5-80dd-b13a012bc804
        property: username
    - secretKey: applicationToken
      sourceRef:
        storeRef:
          name: bitwarden-login
          kind: ClusterSecretStore
      remoteRef:
        key: 029f4953-32a6-4ff5-80dd-b13a012bc804
        property: password
